# AVA_BOT

**Бот для игры Аватария**

---

## Описание проекта

AVA_BOT — это экспериментальный игровой бот для автоматизации действий в онлайн-игре "Аватария".  
Он умеет ориентироваться в локациях, распознавать игровой интерфейс с помощью компьютерного зрения и управлять игрой, выполняя заданные сценарии.

---

## Функциональность

- Настройка и запуск бота для работы в игре.
- Ориентация в игре через распознавание цветов пикселей и анализ экрана.
- Автоматическое распознавание текста с изображений с помощью Tesseract OCR (диалоги, игровые события, паспорта игроков).
- Работа с файлами сохранения JSON:
  - Сохранение диалогов с метками времени и местом.
  - Сохранение приватных диалогов.
- Анализ и детектирование неактивных игроков в чатах.
- Перемещение по локациям и выполнение игровых действий через имитацию нажатий мыши и клавиатуры.
- Поиск ключевых слов в диалогах.
- Управление игровыми ошибками:
  - Обработка ошибок 333, 555.
  - Перезапуск игры при зависании.
  - Решение проблем с запросами в друзья.
- Написание сообщений в чат через эмуляцию клавиатуры.

---

## Текущие задачи и планы развития

- Реализация модуля модерации чата с детекцией токсичных сообщений и троллинга.
- Разработка стратегии общения с использованием шаблонов ответов и логики выбора сообщений.

---

## Текущее состояние кода

**Важно:** проект находится в экспериментальной стадии и представляет собой монолитный скрипт объёмом около 5000 строк.  
Из-за этого:

- Логика кода написана постепенно и может быть сложна для понимания сторонних разработчиков.
- Много хардкода и повторяющихся массивов с координатами и цветами.
- Отсутствует модульная структура — все функции и классы находятся в одном файле.
- Документация и комментарии присутствуют частично.
- Есть технический долг, связанный с масштабируемостью и читаемостью.

---

## План рефакторинга

- Разбивка кода на логические модули `ocr.py`, `control.py`, `chat.py` и др..
- Вынос конфигураций и хардкода в отдельные файлы.
- Улучшение обработки ошибок и логирования.
- Добавление тестов.
- Документирование ключевых функций и классов.

---
