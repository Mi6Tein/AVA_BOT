# AVA_BOT

**Бот для игры Аватария**
Аватария - игра симулятор жизни, суть которой общение с игроками. Социальная сеть с виртуальным пространством. Я захотел создать бота для социального исследования. Бот должен обладать функционалом, который позволит ему перемещаться на любые локации/события, совершать любые действия внутри локации. И самое интересное - проводить автономные социальные эксперименты. 
1) Сбор и анализ диалогов. Я хочу чтобы бот мог 24/7 ходить по локациям и сохранять сообщения чата в отдельный файл
2) Я хочу научить бота анализировать сообщения, используя систему GPT в лучшем случае, либо более простые методы анализа текста и использование более простых языковых моделей
3) Нужно создать функционал для удобного программироания социальных экспериментов, опросов, или других форм активностей бота. Например, реализовать возможность управления ботом через чат игры по ключевым словам и дать возможность другим игрокам управлять ботом, и посмотреть что будет. Организация разного рода мероприятий в игре. Нарушать баланс игры игроков - смотреть на обратный эффект и реакцию сообщества игры и игроков. 24/7 организация и поддержка личных событий внутри игры и другие соц. эксперименты. Смотреть как игроки реагируют на бота, так как это проект уникален для игры и никто еще таких функциональных ботов там не делал.   
---

## Описание проекта

AVA_BOT — это экспериментальный игровой бот для автоматизации действий в онлайн-игре "Аватария".  
Он умеет ориентироваться в локациях, распознавать игровой интерфейс с помощью компьютерного зрения и управлять игрой, выполняя заданные сценарии.

---

## Функциональность

- Настройка и запуск бота для работы в игре.
- Ориентация в игре через распознавание цветов пикселей и анализ экрана.
- Автоматическое распознавание текста с изображений с помощью Tesseract OCR (диалоги, игровые события, паспорта игроков).
- Работа с файлами сохранения JSON:
  - Сохранение диалогов с метками времени и местом.
  - Сохранение приватных диалогов.
- Анализ и детектирование неактивных игроков в чатах.
- Перемещение по локациям и выполнение игровых действий через имитацию нажатий мыши и клавиатуры.
- Поиск ключевых слов в диалогах.
- Управление игровыми ошибками:
  - Обработка ошибок 333, 555.
  - Перезапуск игры при зависании.
  - Решение проблем с запросами в друзья.
- Написание сообщений в чат через эмуляцию клавиатуры.

---

## Текущие задачи и планы развития

- Реализация модуля модерации чата с детекцией токсичных сообщений и троллинга.
- Разработка стратегии общения с использованием шаблонов ответов и логики выбора сообщений.

---

## Текущее состояние кода

**Важно:** проект находится в экспериментальной стадии и представляет собой монолитный скрипт объёмом около 5000 строк.  
Из-за этого:

- Логика кода написана постепенно и может быть сложна для понимания сторонних разработчиков.
- Много хардкода и повторяющихся массивов с координатами и цветами.
- Отсутствует модульная структура — все функции и классы находятся в одном файле.
- Документация и комментарии присутствуют частично.
- Есть технический долг, связанный с масштабируемостью и читаемостью.

---

## План рефакторинга

- Разбивка кода на логические модули `ocr.py`, `control.py`, `chat.py`
- Вынос конфигураций и хардкода в отдельные файлы.
- Улучшение обработки ошибок и логирования.
- Добавление тестов.
- Документирование ключевых функций и классов.

---
